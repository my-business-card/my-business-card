var Blinger;!function(e){e.Resources={assets:{normalizeCss:"/*! normalize.css v5.0.0 | MIT License | github.com/necolas/normalize.css */html{font-family:sans-serif;line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,footer,header,nav,section{display:block}h1{font-size:2em;margin:.67em 0}figcaption,figure,main{display:block}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}dfn{font-style:italic}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}audio,video{display:inline-block}audio:not([controls]){display:none;height:0}img{border-style:none}svg:not(:root){overflow:hidden}button,input,optgroup,select,textarea{font-family:sans-serif;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{display:inline-block;vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details,menu{display:block}summary{display:list-item}canvas{display:inline-block}template{display:none}[hidden]{display:none}",milligram:'*,:after,:before{box-sizing:inherit}html{box-sizing:border-box;font-size:62.5%}body{color:#606c76;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:1.6em;font-weight:400;letter-spacing:.01em;line-height:1.6}blockquote{border-left:.3rem solid #d1d1d1;margin-left:0;margin-right:0;padding:1rem 1.5rem}blockquote :last-child{margin-bottom:0}.button,button,input[type=button],input[type=reset],input[type=submit]{background-color:#ff4242;border:.1rem solid #ff4242;border-radius:.4rem;color:#fff;cursor:pointer;display:inline-block;font-size:1.1rem;font-weight:700;height:3.8rem;letter-spacing:.1rem;line-height:3.8rem;padding:0 3rem;text-align:center;text-decoration:none;text-transform:uppercase;white-space:nowrap}.button:focus,.button:hover,button:focus,button:hover,input[type=button]:focus,input[type=button]:hover,input[type=reset]:focus,input[type=reset]:hover,input[type=submit]:focus,input[type=submit]:hover{background-color:#606c76;border-color:#606c76;color:#fff;outline:0}.button[disabled],button[disabled],input[type=button][disabled],input[type=reset][disabled],input[type=submit][disabled]{cursor:default;opacity:.5}.button[disabled]:focus,.button[disabled]:hover,button[disabled]:focus,button[disabled]:hover,input[type=button][disabled]:focus,input[type=button][disabled]:hover,input[type=reset][disabled]:focus,input[type=reset][disabled]:hover,input[type=submit][disabled]:focus,input[type=submit][disabled]:hover{background-color:#ff4242;border-color:#ff4242}.button.button-outline,button.button-outline,input[type=button].button-outline,input[type=reset].button-outline,input[type=submit].button-outline{background-color:transparent;color:#ff4242}.button.button-outline:focus,.button.button-outline:hover,button.button-outline:focus,button.button-outline:hover,input[type=button].button-outline:focus,input[type=button].button-outline:hover,input[type=reset].button-outline:focus,input[type=reset].button-outline:hover,input[type=submit].button-outline:focus,input[type=submit].button-outline:hover{background-color:transparent;border-color:#606c76;color:#606c76}.button.button-outline[disabled]:focus,.button.button-outline[disabled]:hover,button.button-outline[disabled]:focus,button.button-outline[disabled]:hover,input[type=button].button-outline[disabled]:focus,input[type=button].button-outline[disabled]:hover,input[type=reset].button-outline[disabled]:focus,input[type=reset].button-outline[disabled]:hover,input[type=submit].button-outline[disabled]:focus,input[type=submit].button-outline[disabled]:hover{border-color:inherit;color:#ff4242}.button.button-clear,button.button-clear,input[type=button].button-clear,input[type=reset].button-clear,input[type=submit].button-clear{background-color:transparent;border-color:transparent;color:#ff4242}.button.button-clear:focus,.button.button-clear:hover,button.button-clear:focus,button.button-clear:hover,input[type=button].button-clear:focus,input[type=button].button-clear:hover,input[type=reset].button-clear:focus,input[type=reset].button-clear:hover,input[type=submit].button-clear:focus,input[type=submit].button-clear:hover{background-color:transparent;border-color:transparent;color:#606c76}.button.button-clear[disabled]:focus,.button.button-clear[disabled]:hover,button.button-clear[disabled]:focus,button.button-clear[disabled]:hover,input[type=button].button-clear[disabled]:focus,input[type=button].button-clear[disabled]:hover,input[type=reset].button-clear[disabled]:focus,input[type=reset].button-clear[disabled]:hover,input[type=submit].button-clear[disabled]:focus,input[type=submit].button-clear[disabled]:hover{color:#ff4242}code{background:#f4f5f6;border-radius:.4rem;font-size:86%;margin:0 .2rem;padding:.2rem .5rem;white-space:nowrap}pre{background:#f4f5f6;border-left:.3rem solid #ff4242;overflow-y:hidden}pre>code{border-radius:0;display:block;padding:1rem 1.5rem;white-space:pre}hr{border:0;border-top:.1rem solid #f4f5f6;margin:3rem 0}input[type=email],input[type=number],input[type=password],input[type=search],input[type=tel],input[type=text],input[type=url],select,textarea{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:.1rem solid #d1d1d1;border-radius:.4rem;box-shadow:none;box-sizing:inherit;height:3.8rem;padding:.6rem 1rem;width:100%}input[type=email]:focus,input[type=number]:focus,input[type=password]:focus,input[type=search]:focus,input[type=tel]:focus,input[type=text]:focus,input[type=url]:focus,select:focus,textarea:focus{border-color:#ff4242;outline:0}select{background:url("data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="14" viewBox="0 0 29 14" width="29"><path fill="#d1d1d1" d="M9.37727 3.625l5.08154 6.93523L19.54036 3.625"/></svg>") center right no-repeat;padding-right:3rem}select:focus{background-image:url("data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="14" viewBox="0 0 29 14" width="29"><path fill="#ff4242" d="M9.37727 3.625l5.08154 6.93523L19.54036 3.625"/></svg>")}textarea{min-height:6.5rem}label,legend{display:block;font-size:1.6rem;font-weight:700;margin-bottom:.5rem}fieldset{border-width:0;padding:0}input[type=checkbox],input[type=radio]{display:inline}.label-inline{display:inline-block;font-weight:400;margin-left:.5rem}.container{margin:0 auto;max-width:112rem;padding:0 2rem;position:relative;width:100%}.row{display:flex;flex-direction:column;padding:0;width:100%}.row.row-no-padding{padding:0}.row.row-no-padding>.column{padding:0}.row.row-wrap{flex-wrap:wrap}.row.row-top{align-items:flex-start}.row.row-bottom{align-items:flex-end}.row.row-center{align-items:center}.row.row-stretch{align-items:stretch}.row.row-baseline{align-items:baseline}.row .column{display:block;flex:1 1 auto;margin-left:0;max-width:100%;width:100%}.row .column.column-offset-10{margin-left:10%}.row .column.column-offset-20{margin-left:20%}.row .column.column-offset-25{margin-left:25%}.row .column.column-offset-33,.row .column.column-offset-34{margin-left:33.3333%}.row .column.column-offset-50{margin-left:50%}.row .column.column-offset-66,.row .column.column-offset-67{margin-left:66.6666%}.row .column.column-offset-75{margin-left:75%}.row .column.column-offset-80{margin-left:80%}.row .column.column-offset-90{margin-left:90%}.row .column.column-10{flex:0 0 10%;max-width:10%}.row .column.column-20{flex:0 0 20%;max-width:20%}.row .column.column-25{flex:0 0 25%;max-width:25%}.row .column.column-33,.row .column.column-34{flex:0 0 33.3333%;max-width:33.3333%}.row .column.column-40{flex:0 0 40%;max-width:40%}.row .column.column-50{flex:0 0 50%;max-width:50%}.row .column.column-60{flex:0 0 60%;max-width:60%}.row .column.column-66,.row .column.column-67{flex:0 0 66.6666%;max-width:66.6666%}.row .column.column-75{flex:0 0 75%;max-width:75%}.row .column.column-80{flex:0 0 80%;max-width:80%}.row .column.column-90{flex:0 0 90%;max-width:90%}.row .column .column-top{align-self:flex-start}.row .column .column-bottom{align-self:flex-end}.row .column .column-center{-ms-grid-row-align:center;align-self:center}@media (min-width:40rem){.row{flex-direction:row;margin-left:-1rem;width:calc(100% + 2rem)}.row .column{margin-bottom:inherit;padding:0 1rem}}a{color:#ff4242;text-decoration:none}a:focus,a:hover{color:#606c76}dl,ol,ul{list-style:none;margin-top:0;padding-left:0}dl dl,dl ol,dl ul,ol dl,ol ol,ol ul,ul dl,ul ol,ul ul{font-size:90%;margin:1.5rem 0 1.5rem 3rem}ol{list-style:decimal inside}ul{list-style:circle inside}.button,button,dd,dt,li{margin-bottom:1rem}fieldset,input,select,textarea{margin-bottom:1.5rem}blockquote,dl,figure,form,ol,p,pre,table,ul{margin-bottom:2.5rem}table{border-spacing:0;width:100%}td,th{border-bottom:.1rem solid #e1e1e1;padding:1.2rem 1.5rem;text-align:left}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}b,strong{font-weight:700}p{margin-top:0}h1,h2,h3,h4,h5,h6{font-weight:400;letter-spacing:-.1rem;margin-bottom:2rem;margin-top:0}h1{font-size:4.6rem;line-height:1.2}h2{font-size:3.6rem;line-height:1.25}h3{font-size:2.8rem;line-height:1.3}h4{font-size:2.2rem;letter-spacing:-.08rem;line-height:1.35}h5{font-size:1.8rem;letter-spacing:-.05rem;line-height:1.5}h6{font-size:1.6rem;letter-spacing:0;line-height:1.4}img{max-width:100%}.clearfix:after{clear:both;content:" ";display:table}.float-left{float:left}.float-right{float:right}',styles:'.launcher{text-align:right;height:100%;width:100%;position:relative}.launcher-button-wrapper{position:absolute;left:0;right:0;top:0;bottom:0;height:60px;width:60px;margin:auto}.launcher-button{display:block;width:100%;height:100%;border-radius:50%;border:1px solid transparent;background:#ff4242 center center no-repeat;background-size:50%;left:-1px;position:relative;box-shadow:0 0 30px rgba(116,116,116,.33);animation:launcher-button-init .7s cubic-bezier(.62,.28,.23,.99),launcher-button infinite 6s 2s;transition:background-color .4s}.launcher-button.opened{background:#fff url(https://blinger.io/images/widget/ic-close.png) no-repeat center center!important;background-size:40%;animation:launcher-button-init .7s cubic-bezier(.62,.28,.23,.99),launcher-button-rotate .4s;border:1px solid #ececec!important}.launcher .rings{position:absolute;height:100%;width:100%;opacity:.6;z-index:-1;display:none}.launcher .rings .ring{border:1px solid #ff4242;border-radius:50%;position:absolute;top:0;left:0;bottom:0;right:0;opacity:0;animation:launcher-button-pulsate infinite 3s}.launcher .rings .ring:nth-child(1){animation-delay:.1s}.launcher .rings .ring:nth-child(2){animation-delay:.25s}.launcher .rings .ring:nth-child(3){animation-delay:.4s}.launcher .launcher-powered{display:none;position:absolute;bottom:10px;right:33px;font-size:14px;text-align:center;color:#afafaf;animation:launcher-powered-init .25s}.launcher.blinger-launcher-ring-false .launcher-button{bottom:auto;box-shadow:none;animation:inherit}.launcher.blinger-launcher-ring-false .launcher-powered{right:6px;bottom:0}.launcher.blinger-launcher-ring-false .launcher-button-wrapper{bottom:auto}.launcher .launcher-powered.closing{animation:launcher-powered-close .25s cubic-bezier(.16,.44,.2,.96)}@keyframes launcher-powered-init{0%{transform:translateY(10px);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes launcher-powered-close{0%{transform:translateY(0);opacity:1}to{transform:translateY(10px);opacity:0}}@keyframes launcher-button-rotate{0%{transform:rotate(-90deg)}100%{transform:rotate(0)}}@keyframes launcher-button-pulsate{60%{transform:scale(1,1);opacity:0}70%{transform:scale(1,1);opacity:1}100%{transform:scale(1.7,1.7);opacity:0}}@keyframes launcher-button-init{0%{transform:scale(0);opacity:0}30%{transform:scale(.5) rotate(-180deg);opacity:0}to{transform:scale(1) rotate(0);opacity:1}}@keyframes launcher-button{0%{transform:rotate(0)}5%{transform:rotate(359deg)}to{transform:rotate(360deg)}}.channels-wrapper{height:100%}.channels-wrapper.left .channels{float:left}.channels-wrapper.right .channels{float:right}.channels-wrapper .channels-title{display:none;text-align:center}.channels-wrapper .channel{position:relative;display:block;margin:0 auto;border-radius:50%;background:#ff4242 no-repeat center center;transition:all .6s;margin-bottom:4px;width:50px;height:50px;box-shadow:0 0 3px rgba(0,0,0,.2)}.channels-wrapper .channel-wrapper{width:100%;float:left}.channels-wrapper .tooltip{display:none;position:absolute;right:60px;top:50%;width:180px;transform:translate(0,-50%);animation:channels-tooltip .2s}.channels-wrapper .tooltip-inner{border-radius:10px;padding:3px 11px;background:#fff;color:#444;font-size:14px;font-weight:700;float:left}.channels-wrapper.left .tooltip-inner{float:left}.channels-wrapper.right .tooltip-inner{float:right;text-align:right}.channels-wrapper.left .tooltip{right:auto;left:60px}.channels-wrapper.desktop .channel:hover .tooltip{display:block}.channels-wrapper.desktop .channel:hover .tooltip-inner:empty{display:none}.channels-wrapper.desktop .channels{width:62px}@media (max-height:60px){.channels-wrapper.mobile .channel-wrapper{width:50%}}.channels-wrapper.mobile .channels-title{display:block}.channels-wrapper.mobile{padding:15px}.channels-wrapper.mobile .channel{margin-bottom:15px}.channels-wrapper.mobile .channel-wrapper{width:25%}@media (max-width:60px){.channels-wrapper.mobile .channel-wrapper{width:50%}}@keyframes channels-tooltip{0%{opacity:0}to{opacity:1}}.sidebar-close-button{display:block;float:right;height:50px;width:50px;opacity:.7;background:url(https://blinger.io/images/widget/ic-close-white.png) center center no-repeat;transition:all .3s ease-in-out}.sidebar-close-button:hover{opacity:1;transform:rotate(90deg)}.sidebar-header{margin-bottom:0;height:71px;overflow:hidden}.sidebar-header td{padding:0 15px;font-size:15px;vertical-align:middle;border-bottom:1px solid rgba(214,214,214,.29)}.sidebar-header td:last-child{padding:10px 10px 10px 15px}.sidebar-header .sidebar-header-title{max-height:70px;overflow:hidden}.popup-close-button{display:block;float:right;height:40px;width:40px;opacity:.7;background:url(https://blinger.io/images/widget/ic-close.png) center center no-repeat;transition:all .3s ease-in-out}.popup-close-button:hover{opacity:1;transform:rotate(90deg)}.popup-header{margin-bottom:0;background:#fff}.popup-header td{padding:10px 10px 10px 15px;vertical-align:middle;border-bottom:1px solid rgba(214,214,214,.29)}.popup-body{padding:15px;background:#fff}.invitation-wrapper{display:table;height:100%;width:100%}.invitation{display:table-cell;height:100%;width:100%;padding:30px;text-align:right;vertical-align:bottom}.invitation .invitation-content{position:relative;display:block;float:right;text-align:left;border-radius:6px;box-shadow:0 3px 20px rgba(116,116,116,.2);background:#fff}.invitation-position-left .invitation-content{float:left;text-align:left}.invitation-wrapper .close{position:absolute;width:30px;height:30px;border-radius:15px;background:#eee url(https://blinger.io/images/widget/ic-close.png) no-repeat center center;background-size:10px 10px;opacity:0;right:0;top:-40px;transition:opacity .2s}.invitation:hover .close{opacity:.6}.invitation .invitation-message{text-decoration:none;display:block;height:100%;overflow:hidden;padding:15px;color:#555;font-size:14px}.livechat{position:absolute;top:71px;bottom:0;left:0;right:0}.livechat .messages{position:absolute;top:0;bottom:100px;left:0;right:0;overflow:auto!important;background-size:200px 200px}.livechat .messages .message{float:left;display:block;clear:both;border-radius:8px;padding:5px 10px;margin:10px 30px;margin-right:40px;color:#000;background:#fff;position:relative;border:1px solid #d3d7de}.livechat .messages .message .message-arrow{display:none;content:" ";position:absolute;width:0;height:0;left:-6px;right:auto;top:-10px;bottom:auto;border:10px solid;transform:rotate(-45deg);border-color:transparent}.livechat .messages .message .message-time{text-align:right;margin-top:3px;margin-left:15px;font-size:70%;opacity:.6}.livechat .messages .message.mine .message-arrow{right:-6px;left:auto;transform:rotate(-135deg)}.livechat .messages .message.mine{float:right;background:#edeff2;border:none;margin-right:30px;margin-left:40px}.livechat .send-message-form{position:absolute;bottom:0;left:0;right:0;height:100px;background:#fff}.livechat .send-message-form textarea{border:none;resize:none;border-radius:0;margin:0;height:100%;width:100%;background-color:rgba(191,191,191,.05);border-top:1px solid rgba(185,185,185,.15);display:block;transition:all .2s}.livechat .send-message-form textarea:focus{background-color:transparent;box-shadow:0 0 51px rgba(185,185,185,.2)}'},templates:{widgets:{channels:{iframe:'<style>.blinger-channels-iframe{display:none;position:fixed;bottom:96px;width:62px;max-height:calc(100% - 96px);z-index:9999995}.blinger-channels-iframe.blinger-channels-iframe-desktop:hover{width:250px;max-width:100%}.blinger-channels-iframe.blinger-channels-iframe-mobile{width:300px;bottom:120px;max-width:calc(100% - 60px);max-height:calc(100% - 140px);box-shadow:0 5px 50px rgba(0,0,0,.13)!important;background:#fff;border-radius:6px}.blinger-channels-iframe-left{left:30px;right:auto}.blinger-channels-iframe-right{left:auto;right:30px}.blinger-channels-iframe-left.blinger-channels-iframe-mobile{animation:blinger-channels-show-left .2s cubic-bezier(.62,.28,.23,.99)}.blinger-channels-iframe-right.blinger-channels-iframe-mobile{animation:blinger-channels-show-right .2s cubic-bezier(.62,.28,.23,.99)}.blinger-channels-iframe-left.blinger-channels-iframe-mobile.blinger-channels-hiding{animation:blinger-channels-hide-left .3s cubic-bezier(.62,.28,.23,.99)!important}.blinger-channels-iframe-right.blinger-channels-iframe-mobile.blinger-channels-hiding{animation:blinger-channels-hide-right .3s cubic-bezier(.62,.28,.23,.99)!important}.blinger-channels-iframe.blinger-channels-iframe-desktop{overflow:hidden;animation:blinger-channels-desktop-show .4s cubic-bezier(.16,.44,.2,.96)}.blinger-channels-iframe.blinger-channels-iframe-desktop.blinger-channels-hiding{animation:blinger-channels-desktop-hide .3s cubic-bezier(.16,.44,.2,.96)}@keyframes blinger-channels-show-left{0%{opacity:0;transform:translateX(30px)}to{opacity:1;transform:translateX(0)}}@keyframes blinger-channels-hide-left{0%{opacity:1;transform:translateX(0)}to{opacity:0;transform:translateX(30px)}}@keyframes blinger-channels-show-right{0%{opacity:0;transform:translateX(-30px)}to{opacity:1;transform:translateX(0)}}@keyframes blinger-channels-hide-right{0%{opacity:1;transform:translateX(0)}to{opacity:0;transform:translateX(-30px)}}@keyframes blinger-channels-desktop-show{0%{bottom:30px;opacity:0}to{bottom:96px;opacity:1}}@keyframes blinger-channels-desktop-hide{0%{bottom:96px;opacity:1}to{bottom:30px;opacity:0}}</style><iframe id="blinger-channels-iframe-{{id}}" class="blinger-channels-iframe blinger-channels-iframe-{{position}} blinger-channels-iframe-{{type}}" frameborder="0"></iframe>',main:'<div class="channels-wrapper {{type}} {{position}}">\x3c!--<h6 class="channels-title">{{title}}</h6>--\x3e<div class="channels">{{channels}}</div></div>',channel:'<div class="channel-wrapper"><a id="{{id}}" href="{{link}}" target="{{linkTarget}}" class="channel" style="width: {{sizeW}};height: {{sizeH}};background-color: {{channelBackgroundColor}}; background-size: 55% 55%; background-image: url({{imageUrl}})"><div class="tooltip"><div class="tooltip-inner">{{tooltip}}</div></div></a></div>'},sidebar:{main:'<style>.blinger-sidebar-iframe{display:none;position:fixed;bottom:0;top:0;height:100%;width:400px;max-width:100%;box-shadow:0 5px 50px rgba(0,0,0,.1)!important;z-index:9999998}.blinger-sidebar-iframe-left{animation:blinger-sidebar-show-left .3s cubic-bezier(.62,.28,.23,.99);left:0}.blinger-sidebar-iframe-right{animation:blinger-sidebar-show-right .3s cubic-bezier(.62,.28,.23,.99);right:0}.blinger-sidebar-iframe-left.blinger-sidebar-hiding{animation:blinger-sidebar-hide-left .5s cubic-bezier(.62,.28,.23,.99)!important}.blinger-sidebar-iframe-right.blinger-sidebar-hiding{animation:blinger-sidebar-hide-right .5s cubic-bezier(.62,.28,.23,.99)!important}@keyframes blinger-sidebar-show-left{0%{opacity:0;transform:translateX(-30px)}to{opacity:1;transform:translateX(0)}}@keyframes blinger-sidebar-hide-left{0%{opacity:1;transform:translateX(0)}to{opacity:0;transform:translateX(-30px)}}@keyframes blinger-sidebar-show-right{0%{opacity:0;transform:translateX(30px)}to{opacity:1;transform:translateX(0)}}@keyframes blinger-sidebar-hide-right{0%{opacity:1;transform:translateX(0)}to{opacity:0;transform:translateX(30px)}}</style><iframe id="blinger-sidebar-iframe-{{id}}" class="blinger-sidebar-iframe blinger-sidebar-iframe-{{position}}" frameborder="0"></iframe>',header:'<table class="sidebar-header"><tr style="background-color: {{titleBackgroundColor}}; color: {{titleColor}}"><td><div class="sidebar-header-title">{{title}}</div></td><td style="vertical-align: top"><a id="close-sidebar-{{id}}" class="sidebar-close-button" href="#"></a></td></tr></table>'},livechat:{main:'<div class="livechat" style="background: #fff"><div id="messages" class="messages"></div><div class="send-message-form"><textarea name="" id="input-message" placeholder="{{inputPlaceholder}}"></textarea></div></div>',message:'<div class="message {{isMine}}">{{message}}<div class="message-time">{{time}}</div></div>'},email:{main:'<div style="padding-top: 15px"><div id="email-form" class="container" style="background: #fff"><p style="text-align: center">{{description}}</p><form><fieldset><label for="email">{{email_label}}</label><input type="text" placeholder="yourmail@example.com" id="email"><label for="message">{{message_label}}</label><textarea placeholder="" rows="7" style="height: auto" id="message"></textarea><input id="send-email-button" class="button-primary" type="submit" value="{{button_text}}" style="display: block; width: 100%"></fieldset></form></div><div id="email-sent" class="container" style="display: none"><p style="text-align: center">{{success_text}}</p></div></div>'},popup:{iframe:'<style>.blinger-popup-iframe{display:none;position:fixed;bottom:100px;height:400px;max-height:calc(100% - 120px);width:300px;max-width:calc(100% - 120px);box-shadow:0 5px 50px rgba(0,0,0,.13)!important;border-radius:6px;z-index:9999997;background:#fff}.blinger-popup-iframe-left{animation:blinger-popup-show-left .2s cubic-bezier(.62,.28,.23,.99);left:110px;right:auto}.blinger-popup-iframe-right{animation:blinger-popup-show-right .2s cubic-bezier(.62,.28,.23,.99);left:auto;right:110px}.blinger-popup-iframe-left.blinger-popup-hiding{animation:blinger-popup-hide-left .3s cubic-bezier(.62,.28,.23,.99)!important}.blinger-popup-iframe-right.blinger-popup-hiding{animation:blinger-popup-hide-right .3s cubic-bezier(.62,.28,.23,.99)!important}@keyframes blinger-popup-show-left{0%{opacity:0;transform:translateX(30px)}to{opacity:1;transform:translateX(0)}}@keyframes blinger-popup-hide-left{0%{opacity:1;transform:translateX(0)}to{opacity:0;transform:translateX(30px)}}@keyframes blinger-popup-show-right{0%{opacity:0;transform:translateX(-30px)}to{opacity:1;transform:translateX(0)}}@keyframes blinger-popup-hide-right{0%{opacity:1;transform:translateX(0)}to{opacity:0;transform:translateX(-30px)}}</style><iframe id="blinger-popup-iframe-{{id}}" class="blinger-popup-iframe blinger-popup-iframe-{{position}}" frameborder="0"></iframe>',main:'<table class="popup-header"><tr style="background-color: {{titleBackgroundColor}}; color: {{titleColor}}"><td>{{title}}</td><td style="vertical-align: top"><a id="close-popup-{{id}}" class="popup-close-button" href="#"></a></td></tr></table><div class="popup-body">{{content}}</div>'},launcher:{iframe:'<style>#blinger-launcher-iframe{display:none;position:fixed;bottom:0;z-index:9999996}#blinger-launcher-iframe.blinger-launcher-left{left:0}#blinger-launcher-iframe.blinger-launcher-right{right:0}#blinger-launcher-iframe.blinger-launcher-ring-false{width:68px;height:78px;bottom:15px}#blinger-launcher-iframe.blinger-launcher-left.blinger-launcher-ring-false{left:27px}#blinger-launcher-iframe.blinger-launcher-right.blinger-launcher-ring-false{right:27px}</style><iframe id="blinger-launcher-iframe" class="blinger-launcher-{{position}} blinger-launcher-ring-{{ring-animation}}" frameborder="0" width="122px" height="122px"></iframe>',main:'<div class="launcher launcher-position-{{position}} blinger-launcher-ring-{{ring-animation}}"><div class="launcher-button-wrapper" style="width: {{width}}px; height: {{height}}px"><a id="launcher-button" href="#" class="launcher-button" style="background-color: {{backgroundColor}}; background-image: url({{imageUrl}})"><div id="rings" class="rings" style="display: none"><div class="ring" style="border-color: {{ringColor1}}"></div><div class="ring" style="border-color: {{ringColor2}}"></div><div class="ring" style="border-color: {{ringColor3}}"></div></div></a></div>{{powered}}</div>',powered_link:'<a id="launcher-powered" class="launcher-powered" href="https://blinger.io/?utm_source={{source}}&utm_campaign=widget&utm_medium=widget" target="_blank">blinger.io</a>',powered:'<div id="launcher-powered" class="launcher-powered">blinger.io</div>'},invitation:{iframe:'<style>.blinger-invitation-iframe{display:none;position:fixed;bottom:90px;height:200px;width:280px;z-index:9999999;animation:invitation-init .3s}.blinger-invitation-iframe-left{left:0}.blinger-invitation-iframe-right{right:0}@keyframes invitation-init{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}</style><iframe id="blinger-invitation-iframe-{{id}}" class="blinger-invitation-iframe blinger-invitation-iframe-{{position}}" style="display: none" frameborder="0"></iframe>',main:'<div class="invitation-wrapper invitation-position-{{position}}"><div class="invitation"><div class="invitation-content"><a id="invitation-close" href="#" class="close"></a> <a id="invitation-launcher" class="invitation-message" href="">{{label}}</a></div></div></div>'}}},translates:{ru:{},en:{}}}}(Blinger||(Blinger={}));var Observable=function(){function e(){this.observers=[]}return e.prototype.registerObserver=function(e){this.observers.push(e)},e.prototype.removeObserver=function(e){this.observers.splice(this.observers.indexOf(e),1)},e.prototype.notifyObservers=function(e,t){for(var n=0;n<this.observers.length;n++)this.observers[n].onEvent(e,t)},e}(),__extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Blinger;!function(e){!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._uniqueId=99999998*Math.random()+1,t}return __extends(t,e),Object.defineProperty(t.prototype,"uniqueId",{get:function(){return this._uniqueId},enumerable:!0,configurable:!0}),t}(Observable);e.BaseIdentity=t}(e.Base||(e.Base={}))}(Blinger||(Blinger={}));var Blinger;!function(e){!function(e){!function(t){var n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(e.BaseIdentity);t.BaseWidget=n}(e.Widgets||(e.Widgets={}))}(e.Base||(e.Base={}))}(Blinger||(Blinger={}));var Blinger;!function(e){!function(e){!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.render=function(){},t}(e.BaseWidget);e.BaseSimpleWidget=t}(e.Widgets||(e.Widgets={}))}(e.Base||(e.Base={}))}(Blinger||(Blinger={}));var Blinger;!function(e){!function(e){var t=function(){function e(){}return e.hasClass=function(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")>-1},e.addClass=function(t,n){e.hasClass(t,n)||(t.className+=" "+n)},e.removeClass=function(t,n){if(e.hasClass(t,n)){var i=new RegExp("(\\s|^)"+n+"(\\s|$)");t.className=t.className.replace(i,"")}},e.scrollTo=function(e,t,n){if(!(n<=0)){var i=this,o=t-e.scrollTop,r=o/n*10;setTimeout(function(){e.scrollTop=e.scrollTop+r,e.scrollTop!==t&&i.scrollTo(e,t,n-10)},10)}},e}();e.HtmlHelper=t}(e.Helpers||(e.Helpers={}))}(Blinger||(Blinger={}));var Blinger;!function(e){!function(t){var n=e.Base.Widgets.BaseSimpleWidget,i=e.Helpers.HtmlHelper,o=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e._position="right",e._ringAnimation=!0,e._animation=!0,e._backgroundColor="#ff4242",e._imageUrl="https://blinger.io/images/widget/ic.png",e._channelSizeScale=1,e._scale=1,e._showPowered=!0,e._showPoweredLabel=!1,e._poweredRef="unknown",e.isOpen=!1,e}return __extends(n,t),Object.defineProperty(n.prototype,"imageUrl",{set:function(e){void 0!==e&&(this._imageUrl=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"backgroundColor",{set:function(e){void 0!==e&&(this._backgroundColor=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ringAnimation",{set:function(e){void 0!==e&&(this._ringAnimation=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"animation",{set:function(e){void 0!==e&&(this._animation=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"position",{set:function(e){void 0!==e&&(this._position=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"poweredRef",{set:function(e){void 0!==e&&(this._poweredRef=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"showPowered",{set:function(e){void 0!==e&&(this._showPowered=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"showPoweredLabel",{set:function(e){void 0!==e&&(this._showPoweredLabel=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"channelSizeScale",{set:function(e){void 0!==e&&(this._channelSizeScale=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scale",{set:function(e){void 0!==e&&(this._scale=e)},enumerable:!0,configurable:!0}),n.prototype.render=function(){var t=document.createElement("div");t.innerHTML+=e.Resources.templates.widgets.launcher.iframe.replace("{{position}}",this._position).replace("{{ring-animation}}",this._ringAnimation.toString()),document.body.appendChild(t),this.iframeNode=document.getElementById("blinger-launcher-iframe");var n="";this._showPowered?n=e.Resources.templates.widgets.launcher.powered_link:this._showPoweredLabel&&(n=e.Resources.templates.widgets.launcher.powered),this.iframeNode.contentWindow.document.open(),
this.iframeNode.contentWindow.document.write("<style>"+e.Resources.assets.normalizeCss+"</style>"),this.iframeNode.contentWindow.document.write("<style>"+e.Resources.assets.styles+"</style>"),this.iframeNode.contentWindow.document.write(e.Resources.templates.widgets.launcher.main.replace("{{position}}",this._position).replace("{{width}}",(60*this._scale).toString()).replace("{{height}}",(60*this._scale).toString()).replace("{{backgroundColor}}",this._backgroundColor).replace("{{ringColor1}}",this._backgroundColor).replace("{{ringColor2}}",this._backgroundColor).replace("{{ringColor3}}",this._backgroundColor).replace("{{powered}}",n.replace("{{source}}",this._poweredRef)).replace("{{imageUrl}}",this._imageUrl).replace("{{ring-animation}}",this._ringAnimation.toString())),this.iframeNode.contentWindow.document.close();var i=this;this.launchButtonNode=this.iframeNode.contentWindow.document.getElementById("launcher-button"),this.poweredNode=this.iframeNode.contentWindow.document.getElementById("launcher-powered"),this.ringsNode=this.iframeNode.contentWindow.document.getElementById("rings"),this._ringAnimation&&(this.ringsNode.style.display="block"),this.launchButtonNode&&(this.launchButtonNode.onclick=function(e){e.preventDefault(),e.stopPropagation(),i.onLaunchButtonClick()}),this.iframeNode.style.display="block"},n.prototype.open=function(){this.launchButtonNode.className="launcher-button opened",this.isOpen=!0,this._ringAnimation&&(this.ringsNode.style.display="none"),(this._showPowered||this._showPoweredLabel)&&(this.poweredNode.style.display="block"),this.notifyObservers(n.ON_WIDGET_OPEN)},n.prototype.close=function(){this.launchButtonNode.className="launcher-button",this.isOpen=!1,this._ringAnimation&&(this.ringsNode.style.display="block"),(this._showPowered||this._showPoweredLabel)&&(this.poweredNode.style.display="none",i.removeClass(this.poweredNode,"closing")),this.notifyObservers(n.ON_WIDGET_CLOSE)},n.prototype.onLaunchButtonClick=function(){if(this.isOpen){this.notifyObservers(n.ON_WIDGET_CLOSING),this.launchButtonNode.className="launcher-button",(this._showPowered||this._showPoweredLabel)&&(i.hasClass(this.poweredNode,"closing")||i.addClass(this.poweredNode,"closing"));var e=this;this.iframeNode.style.zIndex="9999996",setTimeout(function(){e.close()},200)}else this.iframeNode.style.zIndex="9999990",this.open()},n.prototype.onEvent=function(e,t){"onLivechatHiding"==e&&this.close()},n}(n);o.ON_WIDGET_OPEN="onLauncherOpen",o.ON_WIDGET_CLOSING="onLauncherClosing",o.ON_WIDGET_CLOSE="onLauncherClose",o.ON_CHANNEL_CLICK="onLauncherClose",t.LauncherWidget=o}(e.Widgets||(e.Widgets={}))}(Blinger||(Blinger={}));var Blinger;!function(e){!function(e){!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(e.BaseWidget);e.BaseContainerWidget=t}(e.Widgets||(e.Widgets={}))}(e.Base||(e.Base={}))}(Blinger||(Blinger={}));var Blinger;!function(e){!function(e){!function(t){var n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(e.BaseIdentity);t.BaseChannel=n}(e.Channels||(e.Channels={}))}(e.Base||(e.Base={}))}(Blinger||(Blinger={}));var Blinger;!function(e){!function(e){!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(e.BaseChannel);e.ActionChannel=t}(e.Channels||(e.Channels={}))}(e.Base||(e.Base={}))}(Blinger||(Blinger={}));var Blinger;!function(e){!function(e){!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(e.BaseChannel);e.LinkChannel=t}(e.Channels||(e.Channels={}))}(e.Base||(e.Base={}))}(Blinger||(Blinger={}));var Blinger;!function(e){!function(t){var n=e.Base.Widgets.BaseContainerWidget,i=e.Helpers.HtmlHelper,o=e.Base.Channels.ActionChannel,r=e.Base.Channels.LinkChannel,a=function(n){function a(){var e=null!==n&&n.apply(this,arguments)||this;return e._type=a.TYPE_DESKTOP,e._title="Select channel",e._position="right",e._scale=1,e._channelSize=50,e._channelMargin=4,e._resizeEnabled=!0,e.isShown=!1,e.channels=[],e}return __extends(a,n),Object.defineProperty(a.prototype,"position",{set:function(e){void 0!==e&&(this._position=e)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"resizeEnabled",{set:function(e){void 0!==e&&(this._resizeEnabled=e)},enumerable:!0,configurable:!0}),a.prototype.addChannel=function(e){this.channels.push(e)},a.prototype.renderContainer=function(n){var i=this;this._widgetNode=document.createElement("div"),this._widgetNode.innerHTML+=e.Resources.templates.widgets.channels.iframe.replace("{{id}}",this.uniqueId.toString()).replace("{{position}}",this._position).replace("{{type}}",this._type),document.body.appendChild(this._widgetNode),this.iframeNode=document.getElementById("blinger-channels-iframe-"+this.uniqueId.toString()),this.iframeNode.contentWindow.document.open(),this.iframeNode.contentWindow.document.write("<style>"+e.Resources.assets.normalizeCss+"</style>"),this.iframeNode.contentWindow.document.write("<style>"+e.Resources.assets.milligram+"</style>"),this.iframeNode.contentWindow.document.write("<style>"+e.Resources.assets.styles+"</style>"),n&&this.iframeNode.contentWindow.document.write(n),this.iframeNode.contentWindow.document.close(),this._type==a.TYPE_DESKTOP?this.iframeNode.height=this.channels.length*(this._channelSize+this._channelMargin)+"px":this.iframeNode.height=15+65*Math.ceil(this.channels.length/4)+"px";for(var r=this,s=0;s<this.channels.length;s++)!function(e){r.iframeNode.contentWindow.document.getElementById("channel-"+r.channels[e].uniqueId).onclick=function(n){i.notifyObservers(t.LauncherWidget.ON_CHANNEL_CLICK),i.channels[e]instanceof o&&(i.channels[e].action(),n.preventDefault(),n.stopPropagation())}}(s);this._resizeEnabled&&(i.onResize(),window.addEventListener("resize",function(e){i.onResize()}))},a.prototype.render=function(){for(var t="",n=this._scale*this._channelSize+"px",i=0;i<this.channels.length;i++)t+=e.Resources.templates.widgets.channels.channel.replace("{{id}}","channel-"+this.channels[i].uniqueId).replace("{{link}}",this.channels[i]instanceof r?this.channels[i].getLink():"#").replace("{{linkTarget}}",this.channels[i]instanceof r?"_blank":"_self").replace("{{imageUrl}}",this.channels[i].imageUrl).replace("{{tooltip}}",this.channels[i].tooltip||"").replace("{{sizeW}}",n).replace("{{sizeH}}",n).replace("{{channelBackgroundColor}}",this.channels[i].backgroundColor);var o=e.Resources.templates.widgets.channels.main.replace("{{id}}",this.uniqueId.toString()).replace("{{type}}",this._type).replace("{{position}}",this._position).replace("{{title}}",this._title).replace("{{channels}}",t);this.renderContainer(o),this.isShown&&this.show()},a.prototype.switchType=function(e){document.body.removeChild(this._widgetNode),this._type=e,this.render()},a.prototype.show=function(){this.iframeNode.style.display="block",this.isShown=!0},a.prototype.hide=function(){this.iframeNode.style.display="none",this.isShown=!1},a.prototype.onResize=function(){var e=this,t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,n=t-100,i=e.channels.length*e._scale*(e._channelSize+e._channelMargin);e._type==a.TYPE_DESKTOP?n<i&&e.switchType(a.TYPE_MOBILE):n>e.channels.length*(e._channelSize+e._channelMargin)&&e.switchType(a.TYPE_DESKTOP)},a.prototype.onCloseBtn=function(){var e=this;i.hasClass(this.iframeNode,"blinger-channels-hiding")||(i.addClass(this.iframeNode,"blinger-channels-hiding"),setTimeout(function(){i.removeClass(e.iframeNode,"blinger-channels-hiding"),e.hide()},190))},a.prototype.onEvent=function(e,n){switch(e){case t.LauncherWidget.ON_WIDGET_CLOSING:this.isShown&&this.onCloseBtn();break;case t.LauncherWidget.ON_WIDGET_OPEN:this.isShown||this.show()}},a}(n);a.TYPE_DESKTOP="desktop",a.TYPE_MOBILE="mobile",t.ChannelsWidget=a}(e.Widgets||(e.Widgets={}))}(Blinger||(Blinger={}));var Blinger;!function(e){!function(t){var n=e.Base.Widgets.BaseContainerWidget,i=e.Helpers.HtmlHelper,o=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e._title="",e._titleColor="#ffffff",e._titleBackgroundColor="#ff4242",e._backgroundColor="#FFFDFD",e._position="right",e.isShown=!1,e}return __extends(n,t),Object.defineProperty(n.prototype,"position",{set:function(e){void 0!==e&&(this._position=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"backgroundColor",{set:function(e){void 0!==e&&(this._backgroundColor=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"titleBackgroundColor",{set:function(e){void 0!==e&&(this._titleBackgroundColor=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"titleColor",{set:function(e){void 0!==e&&(this._titleColor=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"title",{set:function(e){void 0!==e&&(this._title=e)},enumerable:!0,configurable:!0}),n.prototype.renderContainer=function(t){var n=this,i=document.createElement("div");i.innerHTML+=e.Resources.templates.widgets.sidebar.main.replace("{{id}}",this.uniqueId.toString()).replace("{{position}}",this._position),document.body.appendChild(i);var o=e.Resources.templates.widgets.sidebar.header.replace("{{id}}",this.uniqueId.toString()).replace("{{title}}",this._title).replace("{{titleColor}}",this._titleColor).replace("{{titleBackgroundColor}}",this._titleBackgroundColor);this.iframeNode=document.getElementById("blinger-sidebar-iframe-"+this.uniqueId.toString()),this.iframeNode.contentWindow.document.open(),this.iframeNode.contentWindow.document.write("<style>"+e.Resources.assets.normalizeCss+"</style>"),this.iframeNode.contentWindow.document.write("<style>"+e.Resources.assets.milligram+"</style>"),this.iframeNode.contentWindow.document.write("<style>"+e.Resources.assets.styles+"</style>"),this.iframeNode.contentWindow.document.write(o),t&&this.iframeNode.contentWindow.document.write(t),this.iframeNode.contentWindow.document.close(),this.iframeNode.contentWindow.document.body.style.backgroundColor=this._backgroundColor,this.closeBtnNode=this.iframeNode.contentWindow.document.getElementById("close-sidebar-"+this.uniqueId.toString()),this.closeBtnNode.onclick=function(e){e.preventDefault(),e.stopPropagation(),n.onCloseBtn()},this.isShown?this.show():this.hide()},n.prototype.show=function(){this.onShow(),this.iframeNode.style.display="block",this.isShown=!0,this.notifyObservers("onLivechatShow")},n.prototype.hide=function(){this.onHide(),this.iframeNode.style.display="none",this.isShown=!1,this.notifyObservers("onLivechatHide")},n.prototype.onShow=function(){},n.prototype.onHide=function(){},n.prototype.onCloseBtn=function(){var e=this;i.hasClass(this.iframeNode,"blinger-sidebar-hiding")||(i.addClass(this.iframeNode,"blinger-sidebar-hiding"),this.notifyObservers("onLivechatHiding"),setTimeout(function(){i.removeClass(e.iframeNode,"blinger-sidebar-hiding"),e.hide()},490))},n}(n);t.SidebarWidget=o}(e.Widgets||(e.Widgets={}))}(Blinger||(Blinger={}));var Blinger;!function(e){!function(t){var n=e.Widgets.SidebarWidget,i=e.Helpers.HtmlHelper,o=function(t){function n(e){var n=t.call(this)||this;return n.id=e,n._inputPlaceholder="",n._greetingMessage="",n._inputBackgroundColor="",n._messageColor="",n._messageBackgroundColor="",n._messageBackgroundMineColor="",n._websocketUrl="wss://app.blinger.io:443/livechat/",n._customFields={},n._lastMessageId=0,n}return __extends(n,t),Object.defineProperty(n.prototype,"inputPlaceholder",{set:function(e){void 0!==e&&(this._inputPlaceholder=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"greetingMessage",{set:function(e){void 0!==e&&(this._greetingMessage=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"inputBackgroundColor",{set:function(e){void 0!==e&&(this._inputBackgroundColor=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"messageBackgroundMineColor",{set:function(e){void 0!==e&&(this._messageBackgroundMineColor=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"messageBackgroundColor",{set:function(e){void 0!==e&&(this._messageBackgroundColor=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"messageColor",{set:function(e){void 0!==e&&(this._messageColor=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"websocketUrl",{set:function(e){void 0!==e&&(this._websocketUrl=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"customFields",{set:function(e){void 0!==e&&(this._customFields=e)},enumerable:!0,configurable:!0}),n.prototype.render=function(){var t=e.Resources.templates.widgets.livechat.main.replace("{{inputBackegroundColor}}",this._inputBackgroundColor).replace("{{inputPlaceholder}}",this._inputPlaceholder);this.renderContainer(t);var n=this;this.messagesNode=this.iframeNode.contentDocument.getElementById("messages"),this.inputMessageNode=this.iframeNode.contentDocument.getElementById("input-message"),this.inputMessageNode.onkeydown=function(e){n.onInputMessageKeyDown(e)}},n.prototype.renderMessage=function(t,n,i){this.messagesNode.innerHTML+=e.Resources.templates.widgets.livechat.message.replace("{{message}}",t).replace("{{time}}",i).replace("{{isMine}}",n?"mine":"")},n.prototype.onShow=function(){this.webSocket||this.initWebSocket()},n.prototype.initWebSocket=function(){var e=this;this.webSocket=new WebSocket(this._websocketUrl+"fromUserId="+e.getToken()+"&toUserId="+e.id.toString()),this.webSocket.onopen=function(){console.log("Connected to LiveChat")},this.webSocket.onclose=function(){console.log("Connection is closed. Try reconnect..."),setTimeout(function(){e.initWebSocket.call(e)},1e3)},this.webSocket.onmessage=function(t){var n=JSON.parse(t.data);if(!n.type)return void alert("Try to refresh page.");switch(n.type){case"message":e._lastMessageId=n.message.id;var o=new Date(1e3*n.message.date_created);if(e.renderMessage(n.message.message,n.message.from_user_id!=e.id,e.formatDate(o)),setTimeout(function(){i.scrollTo(e.messagesNode,e.messagesNode.scrollHeight,200)},1),!document.hasFocus()){var r=new Audio;""!=r.canPlayType("audio/wav")?(r.src="https://blinger.io/sounds/tap.wav",r.play()):""!=r.canPlayType("audio/ogg")&&(r.src="http://blinger.io/sounds/tap.ogg",r.play())}e.isShown||e.show();break;case"history":if(n.messages){n.messages=n.messages.reverse();for(var a=!1,s=0;s<n.messages.length;s++)if(n.messages[s].id>e._lastMessageId){e._lastMessageId=n.messages[s].id;var o=new Date(1e3*n.messages[s].date_created);e.renderMessage(n.messages[s].message,e.id==n.messages[s].to_user_id,e.formatDate(o)),a=!0}a&&setTimeout(function(){i.scrollTo(e.messagesNode,e.messagesNode.scrollHeight,200)},1)}}}},n.prototype.sendMessage=function(){if(1!=this.webSocket.readyState)return void alert("Connection is lost.");if(this.inputMessageNode.value=this.inputMessageNode.value.replace(/^\s+|\s+$/g,""),this.inputMessageNode.value.length>0){this.webSocket.send(JSON.stringify({type:"text",recipientId:this.id,senderId:this.getToken(),text:this.inputMessageNode.value,page:{url:window.location.href,title:document.title},extraFields:this._customFields})),this.inputMessageNode.value="";var e=this;setTimeout(function(){i.scrollTo(e.messagesNode,e.messagesNode.scrollHeight,200)},1)}},n.prototype.onInputMessageKeyDown=function(e){if(13==e.keyCode&&!e.shiftKey)return this.sendMessage(),e.preventDefault(),!1},n.prototype.onEvent=function(e,t){"onLauncherOpen"==e&&this.show()},n.prototype.formatDate=function(e){var t=e.getDate(),n=e.getMonth()+1,i=e.getFullYear(),o=e.getHours(),r=e.getMinutes(),a=e.toLocaleString();return e.setHours(0,0,0,0)==(new Date).setHours(0,0,0,0)?'<span title="'+a+'">'+o+":"+r+"</span>":'<span title="'+a+'">'+t+"/"+(n<10?"0"+n:n)+"/"+i+"</span>"},n.prototype.getToken=function(){var e=localStorage.getItem("blinger-lc-id");return e||(e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),localStorage.setItem("blinger-lc-id",e)),e},n}(n);t.LivechatWidget=o}(e.Widgets||(e.Widgets={}))}(Blinger||(Blinger={}));var Blinger;!function(e){!function(t){var n=e.Base.Widgets.BaseContainerWidget,i=function(n){function i(e){var t=n.call(this)||this;return t.launcher=e,t._position="right",t._label="Contact us",t._intervalInMinutes=1,t}return __extends(i,n),Object.defineProperty(i.prototype,"label",{get:function(){return this._label},set:function(e){void 0!==e&&(this._label=e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"position",{set:function(e){void 0!==e&&(this._position=e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"intervalInMinutes",{set:function(e){this._intervalInMinutes=e},enumerable:!0,configurable:!0}),i.prototype.renderContainer=function(t){var n=this,i=document.createElement("div");i.innerHTML+=e.Resources.templates.widgets.invitation.iframe.replace("{{id}}",this.uniqueId.toString()).replace("{{position}}",this._position),document.body.appendChild(i),this.iframeNode=document.getElementById("blinger-invitation-iframe-"+this.uniqueId.toString()),this.iframeNode.contentWindow.document.open(),this.iframeNode.contentWindow.document.write("<style>"+e.Resources.assets.normalizeCss+"</style>"),this.iframeNode.contentWindow.document.write("<style>"+e.Resources.assets.styles+"</style>"),t&&this.iframeNode.contentWindow.document.write(t),this.iframeNode.contentWindow.document.close(),this.launcherNode=this.iframeNode.contentWindow.document.getElementById("invitation-launcher"),this.launcherNode.onclick=function(){n.onClick()},this.closeNode=this.iframeNode.contentWindow.document.getElementById("invitation-close"),this.closeNode.onclick=function(){n.onCloseClick()}},i.prototype.render=function(){this.renderContainer(e.Resources.templates.widgets.invitation.main.replace("{{label}}",this._label).replace("{{position}}",this._position))},i.prototype.show=function(e){this.isOpen=!0,(e||Date.now()-parseInt(localStorage.getItem("blinger-invitation"))>60*this._intervalInMinutes*1e3)&&(this.iframeNode.style.display="block")},i.prototype.hide=function(){this.isOpen&&(this.isOpen=!1,this.iframeNode.style.display="none",localStorage.setItem("blinger-invitation",Date.now().toString()))},i.prototype.onClick=function(){this.launcher.open()},i.prototype.onCloseClick=function(){this.hide()},i.prototype.onEvent=function(e,n){e==t.LauncherWidget.ON_WIDGET_OPEN&&this.hide()},i}(n);t.InvitationWidget=i}(e.Widgets||(e.Widgets={}))}(Blinger||(Blinger={}));var Blinger;!function(e){!function(t){var n=e.Base.Widgets.BaseContainerWidget,i=e.Helpers.HtmlHelper,o=function(n){function o(){var e=null!==n&&n.apply(this,arguments)||this;return e._title="",e._content="asd",e._position="right",e.isShown=!1,e}return __extends(o,n),Object.defineProperty(o.prototype,"position",{set:function(e){void 0!==e&&(this._position=e)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"content",{set:function(e){void 0!==e&&(this._content=e)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"title",{set:function(e){void 0!==e&&(this._title=e)},enumerable:!0,configurable:!0}),o.prototype.renderContainer=function(t){var n=this,i=document.createElement("div");i.innerHTML+=e.Resources.templates.widgets.popup.iframe.replace("{{id}}",this.uniqueId.toString()).replace("{{position}}",this._position),document.body.appendChild(i),this.iframeNode=document.getElementById("blinger-popup-iframe-"+this.uniqueId.toString()),this.iframeNode.contentWindow.document.open(),this.iframeNode.contentWindow.document.write("<style>"+e.Resources.assets.normalizeCss+"</style>"),this.iframeNode.contentWindow.document.write("<style>"+e.Resources.assets.milligram+"</style>"),this.iframeNode.contentWindow.document.write("<style>"+e.Resources.assets.styles+"</style>"),t&&this.iframeNode.contentWindow.document.write(t),this.iframeNode.contentWindow.document.close(),this.closeBtnNode=this.iframeNode.contentWindow.document.getElementById("close-popup-"+this.uniqueId.toString()),this.closeBtnNode.onclick=function(e){e.preventDefault(),e.stopPropagation(),n.onCloseBtn()}},o.prototype.render=function(){var t=e.Resources.templates.widgets.popup.main.replace("{{id}}",this.uniqueId.toString()).replace("{{title}}",this._title).replace("{{content}}",this._content);this.renderContainer(t)},o.prototype.show=function(){this.iframeNode.style.display="block",this.isShown=!0},o.prototype.hide=function(){this.iframeNode.style.display="none",this.isShown=!1},o.prototype.onCloseBtn=function(){var e=this;i.hasClass(this.iframeNode,"blinger-popup-hiding")||(i.addClass(this.iframeNode,"blinger-popup-hiding"),setTimeout(function(){i.removeClass(e.iframeNode,"blinger-popup-hiding"),e.hide()},190))},o.prototype.onEvent=function(e,n){e!=t.LauncherWidget.ON_WIDGET_CLOSING&&e!=t.LauncherWidget.ON_CHANNEL_CLICK||this.isShown&&this.onCloseBtn()},o}(n);t.PopupWidget=o}(e.Widgets||(e.Widgets={}))}(Blinger||(Blinger={}));var Blinger;!function(e){!function(t){var n=e.Widgets.SidebarWidget,i=function(t){function n(e){var n=t.call(this)||this;return n.id=e,n._description="",n._emailLabel="Your email",n._messageLabel="Message",n._buttonText="Send",n._successText="Thanks, email sent!",n._emailUrl="https://app.blinger.io/apps/email/send-message",n}return __extends(n,t),Object.defineProperty(n.prototype,"buttonText",{set:function(e){void 0!==e&&(this._buttonText=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"messageLabel",{set:function(e){void 0!==e&&(this._messageLabel=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"emailLabel",{set:function(e){void 0!==e&&(this._emailLabel=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"description",{set:function(e){void 0!==e&&(this._description=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"successText",{set:function(e){void 0!==e&&(this._successText=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"emailUrl",{set:function(e){this._emailUrl=e},enumerable:!0,configurable:!0}),n.prototype.render=function(){var t=this,n=e.Resources.templates.widgets.email.main.replace("{{description}}",this._description).replace("{{email_label}}",this._emailLabel).replace("{{message_label}}",this._messageLabel).replace("{{success_text}}",this._successText).replace("{{button_text}}",this._buttonText);this.renderContainer(n),this.emailFormNode=this.iframeNode.contentWindow.document.getElementById("email-form"),this.emailSentNode=this.iframeNode.contentWindow.document.getElementById("email-sent"),this.emailInputNode=this.iframeNode.contentWindow.document.getElementById("email"),this.messageInputNode=this.iframeNode.contentWindow.document.getElementById("message"),this.sendButtonNode=this.iframeNode.contentWindow.document.getElementById("send-email-button"),this.sendButtonNode.onclick=function(e){e.preventDefault(),e.stopPropagation(),t.onSendButtonClick()}},n.prototype.onShow=function(){this.emailFormNode.style.display="block",this.emailSentNode.style.display="none"},n.prototype.onSendButtonClick=function(){var e=this;this.send(this.emailInputNode.value,this.messageInputNode.value,function(t){t.success?(e.emailFormNode.style.display="none",e.emailSentNode.style.display="block"):alert("Error. Email not sent!")}),this.emailInputNode.value="",this.messageInputNode.value=""},n.prototype.send=function(e,t,n){var i="EmailAppMessageForm[email_from]="+e+"&EmailAppMessageForm[email_to]="+this.id+"&EmailAppMessageForm[message]="+t,o=new XMLHttpRequest;o.open("POST",this._emailUrl,!0),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.onreadystatechange=function(e){4==o.readyState&&(200==o.status?n(JSON.parse(o.response)):alert("Error."))},o.send(i)},n.prototype.onEvent=function(e,t){"onLauncherOpen"==e&&this.show()},n}(n);t.EmailWidget=i}(e.Widgets||(e.Widgets={}))}(Blinger||(Blinger={}));var Blinger;!function(e){!function(t){var n=e.Base.Channels.ActionChannel,i=function(e){function t(t,n){var i=e.call(this)||this;return i.account=t,i.livechat=n,i}return __extends(t,e),t.prototype.action=function(){this.livechat.show()},t}(n);t.LivechatChannel=i}(e.Channels||(e.Channels={}))}(Blinger||(Blinger={}));var Blinger;!function(e){!function(t){var n=e.Base.Channels.ActionChannel,i=function(e){function t(t,n){var i=e.call(this)||this;return i.account=t,i.emailwidget=n,i}return __extends(t,e),t.prototype.action=function(){this.emailwidget.show()},t}(n);t.EmailChannel=i}(e.Channels||(e.Channels={}))}(Blinger||(Blinger={}));var Blinger;!function(e){!function(t){var n=e.Base.Channels.ActionChannel,i=function(e){function t(t){var n=e.call(this)||this;return n.popup=t,n}return __extends(t,e),t.prototype.action=function(){this.popup.show()},t}(n);t.PopupChannel=i}(e.Channels||(e.Channels={}))}(Blinger||(Blinger={}));var Blinger;!function(e){!function(t){var n=e.Base.Channels.LinkChannel,i=function(e){function t(t){var n=e.call(this)||this;return n.link=t,n}return __extends(t,e),t.prototype.getLink=function(){return this.link},t}(n);t.SimpleLinkChannel=i}(e.Channels||(e.Channels={}))}(Blinger||(Blinger={}));var Blinger;!function(e){!function(t){var n=e.Base.Channels.ActionChannel,i=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.action=function(){},t}(n);t.SimpleActionChannel=i}(e.Channels||(e.Channels={}))}(Blinger||(Blinger={}));var Blinger;!function(e){function t(t,n){t=o(t,n);var r={"<":"&lt;",">":"&gt;","'":"&#39;"};t=JSON.parse(JSON.stringify(t).replace(/[<>']/g,function(e){return r[e]}));var b=t.channels||[],w=t.settings||{},v=t.customLivechatFields||{};window.innerHeight;if(0!=w.enabled){if(a=w.lang||"en",y=t.translates||y,e.launcherWidget=new s,e.launcherWidget.position=w.position,e.launcherWidget.scale=w.scale,e.launcherWidget.animation=w.ringAnimation,e.launcherWidget.ringAnimation=w.ringAnimation,e.launcherWidget.backgroundColor=w.backgroundColor,e.launcherWidget.showPowered=w.showPowered,e.launcherWidget.showPoweredLabel=w.showPoweredLabel,e.launcherWidget.poweredRef=window.location.host||"unknown",e.launcherWidget.imageUrl=w.imageUrl,w.invitation){var x=new h(e.launcherWidget);x.label=i(w.invitationLabel),x.position=w.position,x.render(),e.launcherWidget.registerObserver(x),setTimeout(function(){!e.launcherWidget.isOpen&&x.label&&x.show()},1e3*w.invitationDelay)}e.channelsWidget=new f,e.channelsWidget.position=w.position,e.channelsWidget.resizeEnabled=w.resizeEnabled;for(var _=0,k=0;k<b.length;k++)b[k].enabled&&_++;for(var k=0;k<b.length;k++)if(!1!==b[k].enabled){var C=b[k].widgetSettings||{};switch(b[k].type){case"link":var B=new u(b[k].link);B.backgroundColor=b[k].backgroundColor,B.imageUrl=b[k].imageUrl,B.tooltip=i(b[k].tooltip),e.channelsWidget.addChannel(B);break;case"popup":var N=new m;N.position=w.position,N.title=i(C.title),N.content=i(C.content),N.render(),e.launcherWidget.registerObserver(N);var W=new g(N);W.backgroundColor=b[k].backgroundColor,W.imageUrl=b[k].imageUrl,W.tooltip=i(b[k].tooltip),e.channelsWidget.addChannel(W);break;case"livechat":var O=new l(b[k].widgetSettings.id);O.title=i(C.title),O.titleColor=C.titleColor,O.titleBackgroundColor=C.titleBackgroundColor,O.backgroundColor=C.backgroundColor,O.messageColor=C.messageColor,O.messageBackgroundColor=C.messageBackgroundColor,O.messageBackgroundMineColor=C.messageBackgroundMineColor,O.inputBackgroundColor=C.inputBackgroundColor,O.inputPlaceholder=i(C.inputPlaceholder),O.position=w.position,v&&(O.customFields=v),C.websocketUrl&&(O.websocketUrl=C.websocketUrl),O.render();var P=new d(b[k].account,O);P.backgroundColor=b[k].backgroundColor,P.imageUrl=b[k].imageUrl,P.tooltip=i(b[k].tooltip),1==_?(e.launcherWidget.registerObserver(O),O.registerObserver(e.launcherWidget)):e.channelsWidget.addChannel(P);break;case"email":var S=new c(C.id);S.title=i(C.title),S.titleColor=C.titleColor,S.titleBackgroundColor=C.titleBackgroundColor,S.backgroundColor=C.backgroundColor,S.description=i(C.description),S.emailLabel=i(C.emailLabel),S.messageLabel=i(C.messageLabel),S.buttonText=i(C.buttonText),S.successText=i(C.successText),S.position=w.position,C.emailUrl&&(S.emailUrl=C.emailUrl),S.render();var z=new p(b[k].account,S);z.backgroundColor=b[k].backgroundColor,z.imageUrl=b[k].imageUrl,z.tooltip=i(b[k].tooltip),1==_?(e.launcherWidget.registerObserver(S),S.registerObserver(e.launcherWidget)):e.channelsWidget.addChannel(z)}}void 0!==window.blingerBeforeRender&&window.blingerBeforeRender(),e.launcherWidget.render(),e.channelsWidget.render(),e.launcherWidget.registerObserver(e.channelsWidget),void 0!==window.blingerInit&&window.blingerInit()}}function n(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function i(e){if(void 0===e)return"";if("@"!=e.charAt(0))return e;if(e=e.substring(1),y.hasOwnProperty(a)){if(y[a].hasOwnProperty(e))return y[a][e];if(y[b].hasOwnProperty(e))return y[b][e]}return e}function o(e,t){if(t){if(t.hasOwnProperty("channels"))for(var n=0;n<t.channels.length;n++)e.hasOwnProperty("channels")||(e.channels=[]),e.channels.push(t.channels[n]);t.hasOwnProperty("settings")&&(e.hasOwnProperty("settings")||(e.settings={}),e.settings=r(e.settings,t.settings)),t.hasOwnProperty("translates")&&(e.hasOwnProperty("translates")||(e.translates={}),e.translates=r(e.translates,t.translates)),t.hasOwnProperty("customLivechatFields")&&(e.hasOwnProperty("customLivechatFields")||(e.customLivechatFields={}),e.customLivechatFields=r(e.customLivechatFields,t.customLivechatFields))}return e}function r(e,t){function n(e){if("object"==typeof e)for(var t in e)if(e.hasOwnProperty(t))return!0;return!1}for(var i in t)t.hasOwnProperty(i)&&(e[i]&&n(e[i])&&n(t[i])?r(e[i],t[i]):e[i]=t[i]);return e}var a,s=e.Widgets.LauncherWidget,l=e.Widgets.LivechatWidget,c=e.Widgets.EmailWidget,d=e.Channels.LivechatChannel,p=e.Channels.EmailChannel,u=e.Channels.SimpleLinkChannel,h=e.Widgets.InvitationWidget,g=e.Channels.PopupChannel,m=e.Widgets.PopupWidget,f=e.Widgets.ChannelsWidget,b="en",y={};e.launcherWidget=null,e.channelsWidget=null,e.main=t,e.isMobile=n}(Blinger||(Blinger={}));